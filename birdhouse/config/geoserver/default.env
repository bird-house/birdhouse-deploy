# All env in this default.env can be overridden by env.local.

# All env in this default.env must NOT depend on any other env.  If they do,
# must use single quote to avoid early expansion before overrides in local.env
# are applied and must add to the list of DELAYED_EVAL.

# Cache kartoza/geoserver docker build on pavics org since their tags are
# "moving" tags, meaning not reproducible behavior !
# See https://github.com/kartoza/docker-geoserver/issues/232#issuecomment-808754831
export GEOSERVER_IMAGE="pavics/geoserver:2.19.0-kartoza-build20210329-r2-with-snakeyaml"

export GEOSERVER_ADMIN_USER="admin"

# # Install the stable plugin specified in
# https://github.com/kartoza/docker-geoserver/blob/master/build_data/stable_plugins.txt
export GEOSERVER_STABLE_EXTENSIONS="grib-plugin,netcdf-plugin,netcdf-out-plugin"

# Install the community edition plugins specified in
# https://github.com/kartoza/docker-geoserver/blob/master/build_data/community_plugins.txt
export GEOSERVER_COMMUNITY_EXTENSIONS="csw-iso-plugin,geopkg-plugin,metadata-plugin"

# Must use single-quote for delayed eval.
export GEOSERVER_DATA_DIR='${DATA_PERSIST_ROOT}/geoserver'

export DELAYED_EVAL="
  $DELAYED_EVAL
  GEOSERVER_DATA_DIR
"
