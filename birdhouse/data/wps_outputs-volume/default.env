# All env in this default.env can be overridden by env.local.

# All env in this default.env must NOT depend on any other env.  If they do, they
# must use single quotes to avoid early expansion before overrides in env.local
# are applied and must be added to the list of DELAYED_EVAL.

# Endpoint to verify Magpie/Twitcher authorization to a service/resource by a user without proxy request
export TWITCHER_VERIFY_PATH='$(echo "${TWITCHER_PROTECTED_PATH}" | sed "s/proxy/verify/")'

OPTIONAL_VARS="
  $OPTIONAL_VARS
  \$SECURE_DATA_PROXY_AUTH_INCLUDE
"

export DELAYED_EVAL="
  $DELAYED_EVAL
  TWITCHER_VERIFY_PATH
"

EXTRA_VARS='
  $TWITCHER_VERIFY_PATH
'

# extend the original 'VARS' from 'birdhouse/birdhouse-compose.sh' to employ them for template substitution
# adding them to 'VARS', they will also be validated in case of override of 'default.env' using 'env.local'
VARS="$VARS $EXTRA_VARS"
