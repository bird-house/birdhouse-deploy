export SCHEDULER_JOB_XCLIM_DEPLOY_DATA_JOB_CHECKOUT_CACHE='${BIRDHOUSE_DATA_PERSIST_ROOT}/deploy_data_cache/deploy_xclim_testdata_to_thredds'
export SCHEDULER_JOB_XCLIM_DEPLOY_DATA_JOB_LOG_FILENAME='deploy_xclim_testdata_to_thredds.log'
export SCHEDULER_JOB_XCLIM_DEPLOY_DATA_JOB_SCHEDULE="7,37 * * * *"  # UTC

export SCHEDULER_JOB_XCLIM_DEPLOY_DATA_JOB_DOCKER='${DOCKER_CLI_DOCKER}'
export SCHEDULER_JOB_XCLIM_DEPLOY_DATA_JOB_VERSION='${DOCKER_CLI_VERSION}'
export SCHEDULER_JOB_XCLIM_DEPLOY_DATA_JOB_IMAGE='${SCHEDULER_JOB_XCLIM_DEPLOY_DATA_JOB_DOCKER}:${SCHEDULER_JOB_XCLIM_DEPLOY_DATA_JOB_VERSION}'

export SCHEDULER_JOB_XCLIM_DEPLOY_EXTRA_DOCKER_ARGS='$([ -n "$DEPLOY_DATA_JOB_GIT_SSH_IDENTITY_FILE" ] && echo "--volume ${DEPLOY_DATA_JOB_GIT_SSH_IDENTITY_FILE}:${DEPLOY_DATA_JOB_GIT_SSH_IDENTITY_FILE}:ro --env DEPLOY_DATA_GIT_SSH_IDENTITY_FILE=${DEPLOY_DATA_JOB_GIT_SSH_IDENTITY_FILE} ")'

DELAYED_EVAL="
  $DELAYED_EVAL
  SCHEDULER_JOB_XCLIM_DEPLOY_DATA_JOB_CHECKOUT_CACHE
  SCHEDULER_JOB_XCLIM_DEPLOY_EXTRA_DOCKER_ARGS
  SCHEDULER_JOB_XCLIM_DEPLOY_DATA_JOB_DOCKER
  SCHEDULER_JOB_XCLIM_DEPLOY_DATA_JOB_VERSION
  SCHEDULER_JOB_XCLIM_DEPLOY_DATA_JOB_IMAGE
"

VARS="
  $VARS
  \$SCHEDULER_JOB_XCLIM_DEPLOY_DATA_JOB_CHECKOUT_CACHE
  \$SCHEDULER_JOB_XCLIM_DEPLOY_DATA_JOB_SCHEDULE
  \$SCHEDULER_JOB_XCLIM_DEPLOY_DATA_JOB_LOG_FILENAME
  \$SCHEDULER_JOB_XCLIM_DEPLOY_DATA_JOB_IMAGE
"

OPTIONAL_VARS="
  $OPTIONAL_VARS
  \$SCHEDULER_JOB_XCLIM_DEPLOY_EXTRA_DOCKER_ARGS
"
