export SCHEDULER_JOB_RENEW_SSL_DOCKER='pavics/docker-compose-git'
export SCHEDULER_JOB_RENEW_SSL_VERSION='docker-18.09.7-compose-1.25.1'
export SCHEDULER_JOB_RENEW_SSL_IMAGE='${SCHEDULER_JOB_RENEW_SSL_DOCKER}:${SCHEDULER_JOB_RENEW_SSL_VERSION}'

export RENEW_LETSENCRYPT_SSL_SCHEDULE="22 5 * * 0"

export SCHEDULER_JOB_RENEW_SSL_CERT_LOCAL_ENV_DIR_VOLUME='$([ -n "${BIRDHOUSE_LOCAL_ENV_REAL_DIR}" ] && printf " --volume %s:%s:ro " "${BIRDHOUSE_LOCAL_ENV_REAL_DIR}" "${BIRDHOUSE_LOCAL_ENV_REAL_DIR}" )'
export SCHEDULER_JOB_RENEW_SSL_CERT_SSL_CERT_DIR='$(dirname "${BIRDHOUSE_SSL_CERTIFICATE}")'

export DELAYED_EVAL="
  $DELAYED_EVAL
  SCHEDULER_JOB_RENEW_SSL_CERT_LOCAL_ENV_DIR_VOLUME
  SCHEDULER_JOB_RENEW_SSL_CERT_SSL_CERT_DIR
  SCHEDULER_JOB_RENEW_SSL_IMAGE
"

VARS="
  $VARS
  \$SCHEDULER_JOB_RENEW_SSL_CERT_SSL_CERT_DIR
  \$SCHEDULER_JOB_RENEW_SSL_IMAGE
"

OPTIONAL_VARS="
  $OPTIONAL_VARS
  \$RENEW_LETSENCRYPT_SSL_SCHEDULE
  \$RENEW_LETSENCRYPT_SSL_EXTRA_OPTS
  \$SCHEDULER_JOB_RENEW_SSL_CERT_LOCAL_ENV_DIR_VOLUME
"
