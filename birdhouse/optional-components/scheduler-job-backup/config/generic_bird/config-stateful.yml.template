- name: ${SCHEDULER_JOB_BACKUP_PREFIX}generic_bird
  comment: Backup database from the generic_bird service
  schedule: '${SCHEDULER_JOB_BACKUP_EXTRACT_FREQUENCY}'
  command: "${SCHEDULER_JOB_BIRDHOUSE_EXE_LOC} compose run --rm -v ${SCHEDULER_JOB_BACKUP_VOLUME}:/scheduler-backup postgres_generic_bird sh -c 'mkdir -p /scheduler-backup/generic_bird; PGPASSWORD=${POSTGRES_PASSWORD} pg_dump -h postgres -U ${POSTGRES_USER} -d ${POSTGRES_DB} > /scheduler-backup/generic_bird/postgres.dump'"
  dockerargs: >-
    --name ${SCHEDULER_JOB_BACKUP_PREFIX}generic_bird ${SCHEDULER_JOB_BACKUP_COMMON_ARGS}
  image: '${SCHEDULER_JOB_BACKUP_DOCKER_IMAGE}'
