if echo "${BIRDHOUSE_EXTRA_CONF_DIRS}" | grep -qv 'thredds[[:space:]]*$'; then
  log WARN 'The scheduler-job-deploy_raven_testdata component is enabled but the thredds component is not. This WILL cause problems. Please disable the scheduler-job-deploy_raven_testdata component.'
fi

if echo "${BIRDHOUSE_EXTRA_CONF_DIRS}" | grep -qv 'raven[[:space:]]*$'; then
  log WARN 'The scheduler-job-deploy_raven_testdata component is enabled but the raven component is not. Are you sure you want to enable the scheduler-job-deploy_raven_testdata component?'
fi


# Generating scheduler yml config file.
# Using subshell to avoid impacting BIRDHOUSE_AUTODEPLOY_EXTRA_SCHEDULER_JOBS.

(  # subshell start

DEPLOY_DATA_JOB_YML_CONFIG_FILE="${COMPOSE_DIR}/optional-components/scheduler-job-deploy_raven_testdata/config.yml"

DEPLOY_DATA_JOB_SCHEDULE="SCHEDULER_JOB_RAVEN_DEPLOY_DATA_JOB_SCHEDULE"
DEPLOY_DATA_JOB_JOB_NAME="deploy_raven_testdata_to_thredds"
DEPLOY_DATA_JOB_CONFIG="${COMPOSE_DIR}/deployment/deploy-data-raven-testdata-to-thredds.yml"
DEPLOY_DATA_JOB_JOB_DESCRIPTION="Auto-deploy Raven testdata to Thredds for Raven tutorial notebooks."

. ${COMPOSE_DIR}/components/scheduler/deploy_data_job.env

)
