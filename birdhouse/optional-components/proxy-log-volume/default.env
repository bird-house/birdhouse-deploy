# PROXY_LOG_DIR is set to a different directory than the other nginx logs (/var/log/nginx) because the other
# nginx logs are written to files that are actually symlinks to the stdout and stderr streams. We do not want
# to share these symlinks in a volume because they will necessarily not point to the correct target once they are
# mounted in a different container. To avoid potential confusion if trying to read from these symlinked log files
# in a different container, it is better to just not make them shareable (as a volume) in the first place.
export PROXY_LOG_DIR="/logs/"
export PROXY_LOG_FILE="access_file.log"
export PROXY_LOG_PATH='${PROXY_LOG_DIR}/${PROXY_LOG_FILE}'

export DELAYED_EVAL="
  $DELAYED_EVAL
  PROXY_LOG_PATH
"

export OPTIONAL_VARS="
  $OPTIONAL_VARS
  \$PROXY_LOG_FILE
  \$PROXY_LOG_PATH
"

COMPONENT_DEPENDENCIES="
  ./components/scheduler
  ./optional-components/scheduler-job-logrotate-nginx
"
