# -------
# Cowbird
# -------

# All env in this default.env can be overridden by env.local.

# All env in this default.env must NOT depend on any other env.  If they do, they
# must use single quotes to avoid early expansion before overrides in env.local
# are applied and must be added to the list of DELAYED_EVAL.

# add any new variables not already in 'VARS' or 'OPTIONAL_VARS' that must be replaced in templates here
# single quotes are important in below list to keep variable names intact until 'pavics-compose' parses them
EXTRA_VARS='
    ${COWBIRD_VERSION}
    ${COWBIRD_MONGODB_SERVICE}
    ${COWBIRD_MONGODB_HOST}
    ${COWBIRD_MONGODB_PORT}
'
# extend the original 'VARS' from 'birdhouse/pavics-compose.sh' to employ them for template substitution
# adding them to 'VARS', they will also be validated in case of override of 'default.env' using 'env.local'
VARS="$VARS $EXTRA_VARS"

# =====================
# Cowbird Configuration
# =====================

export COWBIRD_VERSION="1.1.1"

# reuse the mongo instance provided by the core docker-compose
# the 'host' is the mongo 'service' inter-docker network connection in this case
# if another service should be used (e.g.: dedicated mongodb), adjust the variables below

export COWBIRD_MONGODB_SERVICE=mongodb  # name of the docker compose service running mongodb
export COWBIRD_MONGODB_NETWORK=${COWBIRD_MONGODB_SERVICE}  # name of the docker network where the mongodb service is running
export COWBIRD_MONGODB_HOST=${COWBIRD_MONGODB_SERVICE}  # hostname that can be used to connect to the mongodb service
export COWBIRD_MONGODB_PORT=27017  # port that can be used to connect to the mongodb service

# Subdirectory containing the user workspaces used by Cowbird
export USER_WORKSPACES="user_workspaces"
