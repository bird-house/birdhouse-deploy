# NOTE:
#   See also the following components that can be used in conjunction with this component to further
#   customize data access mechanisms of the STAC API.
#
#   - birdhouse/components/stac
#   - birdhouse/optional-components/stac-data-proxy
#   - birdhouse/optional-components/stac-public-access

# CRIM image (https://github.com/crim-ca/stac-browser)
# is a fork of the official stac-browser (https://github.com/radiantearth/stac-browser)
# which is some commits ahead to provide necessary build argument fixes for redirects by the nginx proxy.
# version name is slightly tweaked to fulfill 'service-config' JSON schema while leaving an obvious trace of the source
export STAC_BROWSER_VERSION=3.4.0-dev
export STAC_BROWSER_DOCKER='crim-ca/stac-browser'
export STAC_BROWSER_IMAGE='ghcr.io/${STAC_BROWSER_DOCKER}:${STAC_BROWSER_VERSION}'
export STAC_BROWSER_IMAGE_URI='${STAC_BROWSER_IMAGE}'

export DELAYED_EVAL="
  $DELAYED_EVAL
  STAC_BROWSER_IMAGE
  STAC_BROWSER_IMAGE_URI
"

OPTIONAL_VARS="
  $OPTIONAL_VARS
  \$STAC_BROWSER_VERSION
  \$STAC_BROWSER_DOCKER
  \$STAC_BROWSER_IMAGE
  \$STAC_BROWSER_IMAGE_URI
"

# add any component that this component requires to run
COMPONENT_DEPENDENCIES="
  ./components/stac
"
